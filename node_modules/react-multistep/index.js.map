{"version":3,"file":"index.js","sources":["../index.js"],"sourcesContent":["\"use strict\";\n\nimport React, {useState} from 'react'\n\nconst getNavStyles = (indx, length) => {\n  let styles = []\n  for (let i = 0; i < length; i++) {\n    if (i < indx) {\n      styles.push('done')\n    } else if (i === indx) {\n      styles.push('doing')\n    } else {\n      styles.push('todo')\n    }\n  }\n  return styles\n}\n\nconst getButtonsState = (indx, length) => {\n  if (indx > 0 && indx < length - 1) {\n    return {\n      showPreviousBtn: true,\n      showNextBtn: true\n    }\n  } else if (indx === 0) {\n    return {\n      showPreviousBtn: false,\n      showNextBtn: true\n    }\n  } else {\n    return {\n      showPreviousBtn: true,\n      showNextBtn: false\n    }\n  }\n}\n\nexport default function MultiStep(props) {\n  const [stylesState, setStyles] = useState(getNavStyles(0, props.steps.length))\n  const [compState, setComp] = useState(0)\n  const [buttonsState, setButtons] = useState(getButtonsState(0, props.steps.length))\n  \n  function setStepState(indx) {\n    setStyles(getNavStyles(indx, props.steps.length))\n    setComp(indx < props.steps.length? indx : compState)\n    setButtons(getButtonsState(indx, props.steps.length))\n  }\n\n  const next = () => setStepState(compState + 1)\n  \n  const previous = () => setStepState((compState > 0) ? compState - 1 : compState)\n\n  const handleKeyDown = (evt) => evt.which === 13 ? next(props.steps.length) : {}\n\n  const handleOnClick = (evt) => {\n    if (evt.currentTarget.value === props.steps.length - 1 && compState === props.steps.length - 1) {\n      setStepState(props.steps.length)\n    } else {\n      setStepState(evt.currentTarget.value)\n    }\n  }\n\n  const renderSteps = () => \n    props.steps.map((s, i) => (\n      <li\n        className={'progtrckr-' + stylesState[i]}\n        onClick={handleOnClick}\n        key={i}\n        value={i}\n      >\n        <em>{i + 1}</em>\n        <span>{props.steps[i].name}</span>\n      </li>\n    ))\n\n  return (\n      <div className='container' onKeyDown={handleKeyDown}>\n        <ol className='progtrckr'>\n          {renderSteps()}\n        </ol>\n        {props.steps[compState].component}\n        <div style={props.showNavigation ? {} : { display: 'none' }}>\n          <button\n            style={buttonsState.showPreviousBtn ? {} : { display: 'none' }}\n            onClick={previous}\n          >\n            Previous\n          </button>\n\n          <button\n            style={buttonsState.showNextBtn ? {} : { display: 'none' }}\n            onClick={next}\n          >\n            Next\n          </button>\n        </div>\n      </div>\n  )\n}\n\nMultiStep.defaultProps = {\n  showNavigation: true\n}\n"],"names":["getNavStyles","indx","length","styles","i","push","getButtonsState","showPreviousBtn","showNextBtn","MultiStep","props","useState","steps","stylesState","setStyles","compState","setComp","buttonsState","setButtons","setStepState","next","previous","handleKeyDown","evt","which","handleOnClick","currentTarget","value","renderSteps","map","s","name","component","showNavigation","display","defaultProps"],"mappings":"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"}